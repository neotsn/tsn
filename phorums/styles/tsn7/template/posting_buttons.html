<script type="text/javascript">
	// <![CDATA[

	// Define the bbCode tags
	var bbcode = [];
	var bbtags = ['[b]', '[/b]', '[i]', '[/i]', '[u]', '[/u]', '[quote]', '[/quote]', '[code]', '[/code]', '[list][*]', '[/list]', '[list=1][*]', '[/list]', '[img]', '[/img]', '[url]', '[/url]', '[flash=]', '[/flash]', '[size=]', '[/size]'<!-- BEGIN custom_tags -->, {custom_tags.BBCODE_NAME}<!-- END custom_tags -->];
	var imageTag = false;

	// Helpline messages
	var help_line = {
		b: '{LA_BBCODE_B_HELP}',
		i: '{LA_BBCODE_I_HELP}',
		u: '{LA_BBCODE_U_HELP}',
		q: '{LA_BBCODE_Q_HELP}',
		c: '{LA_BBCODE_C_HELP}',
		l: '{LA_BBCODE_L_HELP}',
		o: '{LA_BBCODE_O_HELP}',
		p: '{LA_BBCODE_P_HELP}',
		w: '{LA_BBCODE_W_HELP}',
		s: '{LA_BBCODE_S_HELP}',
		f: '{LA_BBCODE_F_HELP}',
		e: '{LA_BBCODE_LISTITEM_HELP}',
		d: '{LA_BBCODE_D_HELP}',
		t: '{LA_BBCODE_T_HELP}',
		tip: '{L_STYLES_TIP}'
		<!-- BEGIN custom_tags -->, cb_{custom_tags.BBCODE_ID}: '{custom_tags.A_BBCODE_HELPLINE}'<!-- END custom_tags -->
	}


	// ]]>
</script>
<script type="text/javascript" src="{T_TEMPLATE_PATH}/editor.js"></script>
<script type="text/javascript">
	// <![CDATA[

	$(document).ready(function () {
		$('#font_select').selectmenu({
			change: function (event, ui) {
				var value = $(this).val();
				bbfontstyle('[size=' + value + ']', '[/size]');
			}
		});

		$('#foreground').ColorPicker({
			onSubmit: function (hsb, hex, rgb, el) {
				bbfontstyle('[color=#' + hex + ']', '[/color]');
				$(el).ColorPickerHide();
			}
		});

		$("#smiley_menu").on('click', function () {
			$("#tsn8_newpost_smiley_wrapper").fadeToggle();
		});

		$("#tsn8_newpost_smiley_wrapper").on('mouseleave', function () {
			$(this).fadeOut();
		});

		$('.tsn8_icon_smiley').on('click', function () {
			var code = $(this).attr('data-code');
			insert_text(code, true);
			$('#tsn8_newpost_smiley_wrapper').fadeOut();
		});
	})
	// ]]>
</script>

<!-- IF S_BBCODE_ALLOWED -->
<div class="tsn8_toolbar">
	<span class="buttonset">
		<button id="bold" data-mod="tsn8_button" accesskey="b" name="addbbcode0" onclick="bbstyle(0); return false;" onmouseover="helpline('b')" onmouseout="helpline('tip')">
			<label for="bold" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_bold tsn8_icon_sprite"></label>
		</button>
		<button id="italic" data-mod="tsn8_button" accesskey="i" name="addbbcode2" onclick="bbstyle(2); return false;" onmouseover="helpline('i')" onmouseout="helpline('tip')">
			<label for="italic" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_italic tsn8_icon_sprite"></label>
		</button>
		<button id="underline" data-mod="tsn8_button" accesskey="u" name="addbbcode4" onclick="bbstyle(4); return false;" onmouseover="helpline('u')" onmouseout="helpline('tip')">
			<label for="underline" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_underline tsn8_icon_sprite"></label>
		</button>
		<button id="foreground" data-mod="tsn8_button" accesskey="s" name="addbbcodefc" onmouseover="helpline('s')" onmouseout="helpline('tip')">
			<label for="foreground" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_fontcolor tsn8_icon_sprite"></label>
		</button>
	</span>
	<span class="buttonset" onmouseover="helpline('f')" onmouseout="helpline('tip')">
		<select id="font_select" data-mod="tsn8_select" name="addbbcode20" style="width: 100px;">
			<option value="50">{L_FONT_TINY}</option>
			<option value="85">{L_FONT_SMALL}</option>
			<option value="100" selected="selected">{L_FONT_NORMAL}</option>
			<option value="150">{L_FONT_LARGE}</option>
			<option value="200">{L_FONT_HUGE}</option>
		</select>
	</span>
	<span class="buttonset">
	<!-- IF S_BBCODE_QUOTE -->
		<button id="quote" data-mod="tsn8_button" accesskey="q" name="addbbcode6" onclick="bbstyle(6); return false;" onmouseover="helpline('q')" onmouseout="helpline('tip')">
			<label for="quote" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_quotepost tsn8_icon_sprite"></label>
		</button>
	<!-- ENDIF -->
		<button id="code" data-mod="tsn8_button" accesskey="c" name="addbbcode8" onclick="bbstyle(8); return false;" onmouseover="helpline('c')" onmouseout="helpline('tip')">
			<label for="code" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_code tsn8_icon_sprite"></label>
		</button>
	</span>
	<span class="buttonset">
		<button id="ul" data-mod="tsn8_button" accesskey="l" name="addbbcode10" onclick="bbstyle(10); return false;" onmouseover="helpline('l')" onmouseout="helpline('tip')">
			<label for="ul" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_ul tsn8_icon_sprite"></label>
		</button>
		<button id="ol" data-mod="tsn8_button" accesskey="o" name="addbbcode12" onclick="bbstyle(12); return false;" onmouseover="helpline('o')" onmouseout="helpline('tip')">
			<label for="ol" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_ol tsn8_icon_sprite"></label>
		</button>
		<button id="li" data-mod="tsn8_button" accesskey="t" name="addlitsitem" onclick="bbstyle(-1); return false;" onmouseover="helpline('e')" onmouseout="helpline('tip')">
			<label for="li" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_li tsn8_icon_sprite"></label>
		</button>
	</span>
	<span class="buttonset">
	<!-- IF S_BBCODE_IMG -->
		<button id="img" data-mod="tsn8_button" accesskey="p" name="addbbcode14" onclick="bbstyle(14); return false;" onmouseover="helpline('p')" onmouseout="helpline('tip')">
			<label for="img" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_img tsn8_icon_sprite"></label>
		</button>
	<!-- ENDIF -->
	<!-- IF S_LINKS_ALLOWED -->
		<button id="url" data-mod="tsn8_button" accesskey="w" name="addbbcode16" onclick="bbstyle(16); return false;" onmouseover="helpline('w')" onmouseout="helpline('tip')">
			<label for="url" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_link tsn8_icon_sprite"></label>
		</button>
	<!-- ENDIF -->
	<!-- IF S_BBCODE_FLASH -->
		<button id="flash" data-mod="tsn8_button" accesskey="d" name="addbbcode18" onclick="bbstyle(18); return false;" onmouseover="helpline('d')" onmouseout="helpline('tip')">
			<label for="flash" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_flash tsn8_icon_sprite"></label>
		</button>
	<!-- ENDIF -->
	</span>
</div>
<!-- IF S_SMILIES_ALLOWED -->
<div class="tsn8_toolbar">
	<span class="tsn8_smiley_toolbar_container">
		<button id="smiley_menu" data-mod="tsn8_button" accesskey="m" name="showsmileymenu" onclick="return false;">
			<label for="flash" class="tsn8_icon_mini_nohover tsn8_icon_format_toolbar tsn8_icon_emoticon tsn8_icon_sprite"></label>
		</button>
		<div id="tsn8_newpost_smiley_wrapper" class="tsn8_newpost_smiley_wrapper" style="display: none;">
			<!-- BEGIN smiley -->
			<span class="tsn8_icon_smiley" data-code="{smiley.A_SMILEY_CODE}"><img src="{smiley.SMILEY_IMG}" width="{smiley.SMILEY_WIDTH}" height="{smiley.SMILEY_HEIGHT}" alt="{smiley.SMILEY_CODE}" title="{smiley.SMILEY_DESC}"/></span>
			<!-- END smiley -->
			<!-- IF S_SHOW_SMILEY_LINK -->
			<br/><a class="tsn8_breadcrumb" href="{U_MORE_SMILIES}" onclick="popup(this.href, 300, 350, '_phpbbsmilies'); return false;">{L_MORE_SMILIES}</a>
			<!-- ENDIF -->
		</div>
	</span>
</div>
<!-- ENDIF -->

<!-- IF .custom_tags -->
<br/>
<div class="tsn8_subtoolbar">
	<!-- BEGIN custom_tags -->
	<button id="custom_{custom_tags.BBCODE_ID}" data-mod="tsn8_button" name="addbbcode{custom_tags.BBCODE_ID}" onclick="bbstyle({custom_tags.BBCODE_ID}); return false;"
	<!-- IF custom_tags.BBCODE_HELPLINE !== '' -->onmouseover="helpline('cb_{custom_tags.BBCODE_ID}')" onmouseout="helpline('tip')"<!-- ENDIF -->><label for="custom_{custom_tags.BBCODE_ID}">{custom_tags.BBCODE_TAG}</label></button>
	<!-- END custom_tags -->
</div>
<!-- ENDIF -->
<!-- ENDIF -->

<!-- IF S_BBCODE_ALLOWED -->
<div class="tsn8_bbcode_tip">
	<input type="text" readonly="readonly" name="helpbox" class="tsn8_helpline" value="{L_STYLES_TIP}"/>
</div>
<!-- ENDIF -->
